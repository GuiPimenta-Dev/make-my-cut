[
    {
        "name": "Downloader",
        "path": "./functions/downloader",
        "description": "Download a YouTube video and Stores it on S3",
        "timeout": 900,
        "triggers": [
            {
                "service": "sqs",
                "trigger": "downloads_queue"
            }
        ],
        "invocations": [
            {
                "service": "s3",
                "resource": "videos_bucket"
            },
            {
                "service": "dynamodb",
                "resource": "videos_table"
            },
            {
                "service": "sns",
                "resource": "videos_topic"
            }
        ]
    },
    {
        "name": "Starter",
        "path": "./functions/starter",
        "description": "Start the process",
        "timeout": 60,
        "triggers": [
            {
                "service": "api_gateway",
                "trigger": "/videos",
                "method": "POST",
                "public": true
            }
        ],
        "invocations": [
            {
                "service": "sqs",
                "resource": "downloads_queue"
            }
        ]
    },
    {
        "name": "GetChat",
        "path": "./functions/get_chat",
        "description": "Get Live chat messages and stores on DynamoDB",
        "timeout": 900,
        "triggers": [
            {
                "service": "sns",
                "trigger": "videos_topic"
            }
        ],
        "invocations": [
            {
                "service": "dynamodb",
                "resource": "chats_table"
            }
        ]
    },
    {
        "name": "Transcribe",
        "path": "./functions/transcribe",
        "description": "Transcript audio to text",
        "timeout": 60,
        "triggers": [
            {
                "service": "sns",
                "trigger": "videos_topic"
            }
        ],
        "invocations": [
            {
                "service": "s3",
                "resource": "transcriptions_bucket"
            }
        ]
    },
    {
        "name": "Analyse",
        "path": "./functions/analyse",
        "description": "Makes the analysis",
        "timeout": 60,
        "triggers": [
            {
                "service": "api_gateway",
                "trigger": "/analyse",
                "method": "GET",
                "public": true
            }
        ],
        "invocations": []
    },
    {
        "name": "ParseTranscription",
        "path": "./functions/parse_transcription",
        "description": "Parse the transcription",
        "timeout": 60,
        "triggers": [
            {
                "service": "s3",
                "trigger": "transcriptions_bucket"
            }
        ],
        "invocations": [
            {
                "service": "sqs",
                "resource": "transcript_queue"
            }
        ]
    },
    {
        "name": "TranscriptionWorker",
        "path": "./functions/transcription_worker",
        "description": "Parse the transcription",
        "timeout": 18000,
        "triggers": [
            {
                "service": "sqs",
                "trigger": "transcript_queue"
            }
        ],
        "invocations": [
            {
                "service": "dynamodb",
                "resource": "transcriptions_table"
            }
        ]
    }
]